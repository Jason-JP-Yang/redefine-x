{"version":3,"file":"imageViewer.js","names":["imageViewer","window","__REDEFINE_X_IMAGE_VIEWER_INITIALIZED__","maskDom","document","querySelector","console","warn","legacyImg","src","alt","style","display","stage","existing","el","createElement","className","appendChild","state","isOpen","currentIndex","items","activeImg","placeholder","scale","translateX","translateY","isMouseDown","dragged","lastMouseX","lastMouseY","VIEWABLE_IMG_SELECTOR","isViewableImg","img","closest","complete","naturalWidth","hasAttribute","show","isShow","body","overflow","classList","add","remove","resetTransform","transform","cursor","applyTransform","restoreActiveImage","replaceWith","innerHTML","mountImage","width","clientWidth","height","clientHeight","before","openAt","collectLoadedImages","Array","from","querySelectorAll","filter","node","HTMLImageElement","indexOf","addEventListener","onKeydown","close","removeEventListener","navigate","delta","length","nextIndex","nextImg","event","key","endDrag","stopPropagation","target","matches","preventDefault","rect","getBoundingClientRect","offsetX","clientX","left","offsetY","clientY","top","dx","dy","oldScale","deltaY","Math","min","max","passive","deltaX"],"sources":["0"],"mappings":"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","ignoreList":[]}