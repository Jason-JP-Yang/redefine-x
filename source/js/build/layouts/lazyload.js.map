{"version":3,"file":"lazyload.js","names":["loadedPreloaders","WeakSet","preloadedImages","Map","inflightLoads","intersectionObserver","preloadEnabled","preloadQueue","isPreloading","isUserScrolling","userScrollTimeout","loadImage","src","alt","Promise","resolve","reject","img","Image","isSameOrigin","url","URL","window","location","href","origin","crossOrigin","onload","onerror","Error","async","ensureImageCached","has","get","p","then","set","delete","catch","err","requestImageBySrc","cloneLoadedImage","clone","cloneNode","processPreloader","preloader","add","dataset","replacePreloader","Array","from","classList","filter","c","startsWith","forEach","width","height","parseInt","originalSrc","setTimeout","parentNode","replaceChild","error","console","showError","skeleton","querySelector","innerHTML","preloadImageToCache","warn","isNetworkIdle","performance","getEntriesByType","resources","now","entry","loadTime","responseEnd","fetchStart","length","buildPreloadQueue","unloaded","document","querySelectorAll","above","below","position","distance","getViewportPosition","element","rect","getBoundingClientRect","viewportHeight","innerHeight","top","Math","abs","bottom","push","sort","a","b","queue","slice","map","item","processPreloadQueue","shift","initLazyLoad","config","preload","preloaders","observer","getObserver","IntersectionObserver","entries","isIntersecting","unobserve","target","rootMargin","threshold","observed","observe","startPreload","addEventListener","clearTimeout","passive","forceLoadAllPreloaders"],"sources":["0"],"mappings":"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","ignoreList":[]}