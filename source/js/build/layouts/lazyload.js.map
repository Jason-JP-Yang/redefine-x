{"version":3,"file":"lazyload.js","names":["loadedPreloaders","WeakSet","preloadedImages","Map","inflightLoads","intersectionObserver","preloadEnabled","preloadQueue","isPreloading","isUserScrolling","userScrollTimeout","loadImage","src","alt","Promise","resolve","reject","img","Image","isSameOrigin","url","URL","window","location","href","origin","crossOrigin","onload","onerror","Error","async","ensureImageCached","has","get","p","then","set","delete","catch","err","requestImageBySrc","transformPreloaderToImage","preloader","Array","from","classList","filter","c","startsWith","forEach","add","width","dataset","height","parseInt","originalSrc","processPreloader","replacePreloader","setTimeout","parentNode","replaceChild","dispatchEvent","CustomEvent","detail","error","console","showError","shim","querySelector","remove","style","removeProperty","skeleton","innerHTML","preloadImageToCache","warn","isNetworkIdle","performance","getEntriesByType","resources","now","entry","loadTime","responseEnd","fetchStart","length","buildPreloadQueue","unloaded","document","querySelectorAll","above","below","position","distance","getViewportPosition","element","rect","getBoundingClientRect","viewportHeight","innerHeight","top","Math","abs","bottom","push","sort","a","b","queue","slice","map","item","processPreloadQueue","shift","initLazyLoad","config","preload","preloaders","observer","getObserver","IntersectionObserver","entries","isIntersecting","unobserve","target","rootMargin","threshold","observed","observe","startPreload","addEventListener","clearTimeout","passive","forceLoadAllPreloaders"],"sources":["0"],"mappings":"OAWO,MAAMA,iBAAmB,IAAIC,QACpC,MAAMC,EAAkB,IAAIC,IACtBC,EAAgB,IAAID,IAC1B,IAAIE,EAAuB,KACvBC,GAAiB,EACjBC,EAAe,GACfC,GAAe,EACfC,GAAkB,EAClBC,EAAoB,KAiBxB,SAASC,UAAUC,EAAKC,GACtB,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAM,IAAIC,MAChBD,EAAIJ,IAAMA,EAfd,SAASM,aAAaC,GACpB,IAEE,OADe,IAAIC,IAAID,EAAKE,OAAOC,SAASC,MAC9BC,SAAWH,OAAOC,SAASE,MAC3C,CAAE,MACA,OAAO,CACT,CACF,CAWQN,CAAaP,KACfK,EAAIS,YAAc,aAGpBT,EAAIU,OAAS,IAAMZ,EAAQE,GAC3BA,EAAIW,QAAU,IAAMZ,EAAO,IAAIa,MAAM,mBAAmBjB,MAExDK,EAAIL,IAAMA,CAAG,GAEjB,CAEAkB,eAAeC,kBAAkBnB,EAAKC,GACpC,GAAIX,EAAgB8B,IAAIpB,GAAM,OAAOV,EAAgB+B,IAAIrB,GACzD,GAAIR,EAAc4B,IAAIpB,GAAM,OAAOR,EAAc6B,IAAIrB,GAErD,MAAMsB,EAAIvB,UAAUC,EAAKC,GAAKsB,MAAMlB,IAClCf,EAAgBkC,IAAIxB,EAAKK,GACzBb,EAAciC,OAAOzB,GACdK,KACNqB,OAAOC,IAER,MADAnC,EAAciC,OAAOzB,GACf2B,CAAG,IAGX,OADAnC,EAAcgC,IAAIxB,EAAKsB,GAChBA,CACT,QAEOJ,eAAeU,kBAAkB5B,EAAKC,EAAM,IACjD,MAAMI,QAAYc,kBAAkBnB,EAAKC,GAGzC,OAFIA,IAAKI,EAAIJ,IAAMA,GACfX,EAAgB+B,IAAIrB,KAASK,GAAKf,EAAgBmC,OAAOzB,GACtDK,CACT,QAEO,SAASwB,0BAA0BC,EAAWzB,GAEnC0B,MAAMC,KAAKF,EAAUG,WAAWC,QAAOC,IAAMA,EAAEC,WAAW,mBAClEC,SAAQF,GAAK9B,EAAI4B,UAAUK,IAAIH,KAGvC,MAAMI,EAAQT,EAAUU,QAAQD,MAC1BE,EAASX,EAAUU,QAAQC,OAQjC,OAPIF,IAAOlC,EAAIkC,MAAQG,SAASH,EAAO,KACnCE,IAAQpC,EAAIoC,OAASC,SAASD,EAAQ,KAG1CpC,EAAI4B,UAAUK,IAAI,wBAClBjC,EAAImC,QAAQG,YAAcb,EAAUU,QAAQxC,IAErCK,CACT,CAmDAa,eAAe0B,iBAAiBd,GAE9B,GAAI1C,iBAAiBgC,IAAIU,GAAY,OACrC1C,iBAAiBkD,IAAIR,GAErB,MAAM9B,EAAM8B,EAAUU,QAAQxC,IACxBC,EAAM6B,EAAUU,QAAQvC,KAAO,GAErC,KAtDF,SAAS4C,iBAAiBf,EAAWzB,GACnCwB,0BAA0BC,EAAWzB,GACrCyB,EAAUG,UAAUK,IAAI,0BAGxBQ,YAAW,KACThB,EAAUiB,YAAYC,aAAa3C,EAAKyB,GACxCpB,OAAOuC,cAAc,IAAIC,YAAY,wBAAyB,CAAEC,OAAQ,CAAE9C,SAAS,GAClF,IACL,CA+CIwC,CAAiBf,QADCF,kBAAkB5B,EAAKC,GAE3C,CAAE,MAAOmD,GACPC,QAAQD,MAAM,aAAcA,GA5ChC,SAASE,UAAUxB,EAAW9B,GAE5B,MAAMuD,EAAOzB,EAAU0B,cAAc,uBACjCD,GAAMA,EAAKE,SAEf3B,EAAUG,UAAUK,IAAI,uBAExBR,EAAU4B,MAAMnB,MAAQ,OACxBT,EAAU4B,MAAMjB,OAAS,cAEzBX,EAAU4B,MAAMC,eAAe,gBAC/B7B,EAAU4B,MAAMC,eAAe,cAC/B7B,EAAU4B,MAAMC,eAAe,aAC/B7B,EAAU4B,MAAMC,eAAe,UAC/B,MAAMC,EAAW9B,EAAU0B,cAAc,2BACrCI,IACFA,EAASC,UAAY,0NAIQ7D,+BAM/BU,OAAOuC,cAAc,IAAIC,YAAY,6BACvC,CAkBII,CAAUxB,EAAW9B,EACvB,CACF,CAKAkB,eAAe4C,oBAAoBhC,GACjC,MAAM9B,EAAM8B,EAAUU,QAAQxC,IACxBC,EAAM6B,EAAUU,QAAQvC,KAAO,GAGrC,IAAIX,EAAgB8B,IAAIpB,KAAQZ,iBAAiBgC,IAAIU,GAIrD,UACQX,kBAAkBnB,EAAKC,EAC/B,CAAE,MAAOmD,GAEPC,QAAQU,KAAK,qBAAsBX,EACrC,CACF,CA4BA,SAASY,gBACP,GAA2B,oBAAhBC,cAAgCA,YAAYC,iBACrD,OAAO,EAGT,MAAMC,EAAYF,YAAYC,iBAAiB,YACzCE,EAAMH,YAAYG,MAQxB,OAAkC,IALVD,EAAUjC,QAAOmC,IACvC,MAAMC,EAAWD,EAAME,aAAeF,EAAMG,WAC5C,OAAQJ,EAAME,EAAY,GAAG,IAGRG,MACzB,CAsBA,SAASC,oBACP,MACMC,EADgB5C,MAAMC,KAAK4C,SAASC,iBAAiB,mBAC5B3C,QAAOZ,IAAMlC,iBAAiBgC,IAAIE,KAEjE,GAAwB,IAApBqD,EAASF,OAAc,MAAO,GAGlC,MAAMK,EAAQ,GACRC,EAAQ,GAEdJ,EAAStC,SAAQP,IACf,MAAMkD,SAAEA,EAAQC,SAAEA,GA5BtB,SAASC,oBAAoBC,GAC3B,MAAMC,EAAOD,EAAQE,wBACfC,EAAiB5E,OAAO6E,YAE9B,OAAIH,EAAKI,IAAM,EACN,CAAER,SAAU,QAASC,SAAUQ,KAAKC,IAAIN,EAAKO,SAC3CP,EAAKI,IAAMF,EACb,CAAEN,SAAU,QAASC,SAAUG,EAAKI,IAAMF,GAE1C,CAAEN,SAAU,UAAWC,SAAU,EAE5C,CAiBmCC,CAAoBpD,GAClC,UAAbkD,EACFF,EAAMc,KAAK,CAAE9D,YAAWmD,aACF,UAAbD,GACTD,EAAMa,KAAK,CAAE9D,YAAWmD,YAC1B,IAIFH,EAAMe,MAAK,CAACC,EAAGC,IAAMD,EAAEb,SAAWc,EAAEd,WACpCF,EAAMc,MAAK,CAACC,EAAGC,IAAMD,EAAEb,SAAWc,EAAEd,WAGpC,MAAMe,EAAQ,GAcd,OAXAA,EAAMJ,QAAQb,EAAMkB,MAAM,EAAG,GAAGC,KAAIC,GAAQA,EAAKrE,aAGjDkE,EAAMJ,QAAQd,EAAMmB,MAAM,EAAG,GAAGC,KAAIC,GAAQA,EAAKrE,aAGjDkE,EAAMJ,QAAQb,EAAMkB,MAAM,GAAGC,KAAIC,GAAQA,EAAKrE,aAG9CkE,EAAMJ,QAAQd,EAAMmB,MAAM,GAAGC,KAAIC,GAAQA,EAAKrE,aAEvCkE,CACT,CAKA9E,eAAekF,sBACb,IAAIxG,GAAwC,IAAxBD,EAAa8E,OAAjC,CAIA,IAFA7E,GAAe,EAERD,EAAa8E,OAAS,GAAG,CAE9B,GAAI5E,EAAiB,OACb,IAAIK,SAAQC,GAAW2C,WAAW3C,EAAS,OACjD,QACF,CAGA,MAAQ6D,uBACA,IAAI9D,SAAQC,GAAW2C,WAAW3C,EAAS,OAGnD,MAAM2B,EAAYnC,EAAa0G,cAGzBvC,oBAAoBhC,SAGpB,IAAI5B,SAAQC,GAAW2C,WAAW3C,EAAS,MACnD,CAEAP,GAAe,CAzBsC,CA0BvD,gBAkBe,SAAS0G,aAAaC,EAAS,CAAC,GAC7C7G,GAAoC,IAAnB6G,EAAOC,QAExB,MAAMC,EAAa7B,SAASC,iBAAiB,uCAC7C,GAA0B,IAAtB4B,EAAWhC,OAAc,OAE7B,MAAMiC,EA3JR,SAASC,cAiBP,OAhBKlH,IACHA,EAAuB,IAAImH,sBACxBC,IACCA,EAAQxE,SAASgC,IACXA,EAAMyC,iBACRrH,EAAqBsH,UAAU1C,EAAM2C,QACrCpE,iBAAiByB,EAAM2C,QACzB,GACA,GAEJ,CACEC,WAAY,QACZC,UAAW,OAIVzH,CACT,CAyImBkH,GACjBF,EAAWpE,SAASP,IAClBA,EAAUU,QAAQ2E,SAAW,OAC7BT,EAASU,QAAQtF,EAAU,IAIzBpC,KA1BN,SAAS2H,eACF3H,GAGLoD,YAAW,KACTnD,EAAe+E,oBACf0B,qBAAqB,GACpB,IACL,CAmBIiB,GAGA3G,OAAO4G,iBAAiB,UAAU,KAChCzH,GAAkB,EAClB0H,aAAazH,GAEbA,EAAoBgD,YAAW,KAC7BjD,GAAkB,EAGbD,GAAwC,IAAxBD,EAAa8E,SAChC9E,EAAe+E,oBACf0B,sBACF,GACC,IAAI,GACN,CAAEoB,SAAS,IAElB,QAKO,SAASC,yBACd7C,SAASC,iBAAiB,kBAAkBxC,QAAQO,iBACtD","ignoreList":[]}